---
title: 控制角色
weight: 18
---

控制角色允许您为不同用户配置远程控制权限。当用户远程控制另一台设备时，控制角色定义了控制方用户在建立连接后可以执行的操作。

{{% notice note %}}
**控制角色 vs 访问控制 vs 策略**

- **控制角色**：决定控制方用户在建立连接后可以执行的操作。
- **访问控制**：决定控制方和被控方设备之间是否可以建立连接。
- **策略**：修改被控设备上的设置。
{{% /notice %}}

## 要求

- 被控设备：RustDesk **1.4.5** 或以上版本（暂不支持 Android 被控设备）
- 控制设备：无版本要求

## 权限计算

### 权限工作原理

简而言之：控制权限优先于本地设置。

权限设置有两个来源：

- **被控端的本地设置**：被控设备的设置（设置 → 安全 → 权限）
- **控制权限**：控制方用户的控制角色权限（在 Web 控制台中配置）

每个权限有三种状态：

- **使用客户端设置**：不覆盖，使用被控设备的本地设置
- **启用**：显式启用此权限（覆盖本地设置）
- **禁用**：显式禁用此权限（覆盖本地设置）

权限在会话级别计算：

| 控制权限 | 本地设置 | 结果 |
|---|---|---|
| 启用 | 启用 | 启用 |
| 启用 | 禁用 | **启用** |
| 禁用 | 启用 | **禁用** |
| 禁用 | 禁用 | 禁用 |
| 使用客户端设置 | 启用 | 启用 |
| 使用客户端设置 | 禁用 | 禁用 |

**特殊情况：远程配置修改**

当多个控制用户连接到同一设备时，"远程配置修改"权限会在所有连接中计算：

| 所有连接的控制权限 | 结果 |
|---|---|
| 任一禁用 | **禁用** |
| 无禁用，任一启用 | **启用** |
| 全部使用客户端设置 | 使用本地设置 |

### 应用哪个角色

每个用户只能分配一个控制角色。有两个内置角色：

| 角色 | 描述 |
|------|-------------|
| **未登录** | 用于未登录的控制用户。不能分配给用户。 |
| **默认** | 用于未分配控制角色或显式分配到默认角色的已登录控制用户。 |

应用的控制角色取决于控制用户的登录状态和角色分配：

| 控制用户状态 | 已分配角色 | 角色 / 角色状态 | 应用的控制角色 |
|---|---|---|---|
| 未登录 | - | 未登录 / 已启用 | 未登录 |
| 未登录 | - | 未登录 / 已禁用 | - |
| 已登录 | 有分配的角色 | 分配的角色 / 已启用 | 分配的角色 |
| 已登录 | 有分配的角色 | 分配的角色 / 已禁用 | - |
| 已登录 | 无分配的角色 | 默认 / 已启用 | 默认 |
| 已登录 | 无分配的角色 | 默认 / 已禁用 | - |

## 可用权限

12 个可控权限对应被控设备的 设置 → 安全 → 权限：

- 键盘/鼠标
- 远程打印机
- 剪贴板
- 文件传输
- 音频
- 摄像头
- 终端
- TCP 隧道
- 远程重启
- 录制会话
- 阻止用户输入
- 远程配置修改

## 控制台操作

### 创建角色

1. 导航到 **控制角色** 页面并点击 **创建**
2. 输入角色的 **名称**
3. 选择要授予的 **权限**

![](/docs/en/self-host/rustdesk-server-pro/control-role/images/control-role-create-name.png)
![](/docs/en/self-host/rustdesk-server-pro/control-role/images/control-role-create-permission.png)

### 角色分配

有两种方式将控制角色分配给用户：

1. **用户页面** → 点击用户的 **编辑** → 在 **控制角色** 字段中选择角色
2. **控制角色页面** → 点击 **用户数量** 或 **分配用户** → 添加或移除角色中的用户

![](/docs/en/self-host/rustdesk-server-pro/control-role/images/control-role-assign-user-page.png)
![](/docs/en/self-host/rustdesk-server-pro/control-role/images/control-role-assign-role-page.png)

{{% notice note %}}
"未登录"角色不能分配给用户（它仅适用于未登录的连接）。
{{% /notice %}}
