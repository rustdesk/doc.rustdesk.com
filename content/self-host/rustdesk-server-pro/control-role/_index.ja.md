---
title: コントロールロール
weight: 18
---

コントロールロールを使用すると、異なるユーザーのリモートコントロール権限を設定できます。ユーザーが別のデバイスをリモートコントロールする場合、コントロールロールは接続が確立された後にコントロール側のユーザーが実行できる操作を定義します。

{{% notice note %}}
**コントロールロール vs アクセス制御 vs ストラテジー**

- **コントロールロール**：接続が確立された後にコントロール側のユーザーが実行できる操作を決定します。
- **アクセス制御**：コントロール側と被コントロール側のデバイス間で接続を確立できるかどうかを決定します。
- **ストラテジー**：被コントロールデバイスの設定を変更します。
{{% /notice %}}

## 要件

- 被コントロールデバイス：RustDesk **1.4.5** 以上（Android被コントロールデバイスはまだサポートされていません）
- コントロールデバイス：バージョン要件なし

## 権限の計算

### 権限の仕組み

要約：コントロール権限はローカル設定より優先されます。

権限設定には2つのソースがあります：

- **被コントロール側のローカル設定**：被コントロールデバイスの設定（設定 → セキュリティ → 権限）
- **コントロール権限**：コントロール側ユーザーのコントロールロール権限（Webコンソールで設定）

各権限には3つの状態があります：

- **クライアント設定を使用**：オーバーライドなし、被コントロールデバイスのローカル設定を使用
- **有効**：この権限を明示的に有効化（ローカル設定をオーバーライド）
- **無効**：この権限を明示的に無効化（ローカル設定をオーバーライド）

権限はセッションレベルで計算されます：

| コントロール権限 | ローカル設定 | 結果 |
|---|---|---|
| 有効 | 有効 | 有効 |
| 有効 | 無効 | **有効** |
| 無効 | 有効 | **無効** |
| 無効 | 無効 | 無効 |
| クライアント設定を使用 | 有効 | 有効 |
| クライアント設定を使用 | 無効 | 無効 |

**特殊ケース：リモート設定変更**

複数のコントロールユーザーが同じデバイスに接続している場合、「リモート設定変更」権限はすべての接続で計算されます：

| すべての接続のコントロール権限 | 結果 |
|---|---|
| いずれか無効 | **無効** |
| 無効なし、いずれか有効 | **有効** |
| すべてクライアント設定を使用 | ローカル設定を使用 |

### 適用されるロール

各ユーザーには1つのコントロールロールのみ割り当てることができます。2つの組み込みロールがあります：

| ロール | 説明 |
|------|-------------|
| **未ログイン** | ログインしていないコントロールユーザー用。ユーザーに割り当てることはできません。 |
| **デフォルト** | コントロールロールが割り当てられていない、またはデフォルトロールに明示的に割り当てられているログイン済みコントロールユーザー用。 |

適用されるコントロールロールは、コントロールユーザーのログイン状態とロール割り当てによって異なります：

| コントロールユーザーの状態 | 割り当てられたロール | ロール / ロール状態 | 適用されるコントロールロール |
|---|---|---|---|
| 未ログイン | - | 未ログイン / 有効 | 未ログイン |
| 未ログイン | - | 未ログイン / 無効 | - |
| ログイン済み | 割り当てられたロールあり | 割り当てられたロール / 有効 | 割り当てられたロール |
| ログイン済み | 割り当てられたロールあり | 割り当てられたロール / 無効 | - |
| ログイン済み | 割り当てられたロールなし | デフォルト / 有効 | デフォルト |
| ログイン済み | 割り当てられたロールなし | デフォルト / 無効 | - |

## 利用可能な権限

12のコントロール可能な権限は、被コントロールデバイスの設定 → セキュリティ → 権限に対応しています：

- キーボード/マウス
- リモートプリンター
- クリップボード
- ファイル転送
- オーディオ
- カメラ
- ターミナル
- TCPトンネル
- リモート再起動
- セッション録画
- ユーザー入力のブロック
- リモート設定変更

## コンソール操作

### ロールの作成

1. **コントロールロール**ページに移動し、**作成**をクリック
2. ロールの**名前**を入力
3. 付与する**権限**を選択

![](/docs/en/self-host/rustdesk-server-pro/control-role/images/control-role-create-name.png)
![](/docs/en/self-host/rustdesk-server-pro/control-role/images/control-role-create-permission.png)

### ロールの割り当て

コントロールロールをユーザーに割り当てる方法は2つあります：

1. **ユーザーページ** → ユーザーの**編集**をクリック → **コントロールロール**フィールドでロールを選択
2. **コントロールロールページ** → **ユーザー数**または**ユーザーを割り当て**をクリック → ロールにユーザーを追加または削除

![](/docs/en/self-host/rustdesk-server-pro/control-role/images/control-role-assign-user-page.png)
![](/docs/en/self-host/rustdesk-server-pro/control-role/images/control-role-assign-role-page.png)

{{% notice note %}}
「未ログイン」ロールはユーザーに割り当てることができません（未ログイン接続にのみ適用されます）。
{{% /notice %}}
